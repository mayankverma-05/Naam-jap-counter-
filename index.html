<script>
let count = 0;
let recognition;

function startJap() {

    if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
        alert("Speech Recognition not supported in this browser");
        return;
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SpeechRecognition();

    recognition.continuous = true;
    recognition.lang = "en-IN";

    recognition.onstart = function () {
        console.log("Mic started");
    };

    recognition.onresult = function (event) {
        const text = event.results[event.results.length - 1][0].transcript.toLowerCase();
        console.log(text);

        if (text.includes("ram")) {
            count++;
            document.getElementById("count").innerText = count;
        }
    };

    recognition.onerror = function (event) {
        alert("Mic error: " + event.error);
    };

    recognition.start();
}

function stopJap() {
    if (recognition) {
        recognition.stop();
    }
}
</script>
